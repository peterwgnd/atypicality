!function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=29)}([function(e,t,n){"use strict";t.a=function(e){for(var t=e.length/6|0,n=new Array(t),a=0;a<t;)n[a]="#"+e.slice(6*a,6*++a);return n}},function(e,t,n){"use strict";var a=n(8);t.a=function(e){return Object(a.b)(e[e.length-1])}},function(e,t,n){"use strict";var a=n(10);n.d(t,"a",function(){return a.e}),n.d(t,"f",function(){return a.g}),n.d(t,"d",function(){return a.f});var r=n(45);n.d(t,"e",function(){return r.a}),n.d(t,"c",function(){return r.b});var i=n(46);n.d(t,"b",function(){return i.a})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contrast_color=t.year_range=t.similarity_cmap=t.typicality_cmap=t.sonic_attrs=void 0;var a=n(34),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(a);t.sonic_attrs=["energy","acousticness","liveness","speechiness","instrumentalness","valence","danceability","tempo"],t.typicality_cmap=d3.scaleLinear().domain([.5,1]).range(["#ff00c7","#000"]).interpolate(d3.interpolateLab),t.similarity_cmap=d3.scaleSequential(r.interpolateRdYlGn).domain([.25,1]),t.year_range=[1958,2016],t.contrast_color="red"},function(e,t,n){"use strict";function a(e,t){return function(n){return e+n*t}}function r(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(a){return Math.pow(e+a*t,n)}}function i(e,t){var n=t-e;return n?a(e,n>180||n<-180?n-360*Math.round(n/360):n):Object(f.a)(isNaN(e)?t:e)}function c(e){return 1==(e=+e)?o:function(t,n){return n-t?r(t,n,e):Object(f.a)(isNaN(t)?n:t)}}function o(e,t){var n=t-e;return n?a(e,n):Object(f.a)(isNaN(e)?t:e)}t.c=i,t.b=c,t.a=o;var f=n(20)},function(e,t,n){"use strict";function a(){return new Promise(function(e,n){d3.csv("assets/number_ones.csv",o.Song.fromRow,function(n){t.db=f=n,e()})})}function r(e){var t=f.filter(function(t){return t.track==e});return console.assert(1==t.length,"Ambiguous/Unknown track "+e),t[0]}function i(e){return function(t){return Object.entries(e).every(function(e){var n=e[0],a=e[1];return t[n]==a})}}function c(e){return f.find(i(e))}Object.defineProperty(t,"__esModule",{value:!0}),t.query_one=t.lookup=t.db=t.load=void 0;var o=n(13),f=void 0;t.load=a,t.db=f,t.lookup=r,t.query_one=c},function(e,t,n){"use strict";t.a=function(e,t){return e=+e,t-=e,function(n){return e+t*n}}},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.RadarChart=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(3),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),o=n(13),f=c.sonic_attrs,s={acousticness:"The likelihood that this song was recorded solely by acoustic means (as opposed to more electronic means)",danceability:"How suitable is this track for dancing? Includes tempo, regularity of beat, and beat strength",energy:"A perceptual measure of intensity throughout the track. Think fast, loud and noisy (e.g. hard rock) more than dance tracks.",instrumentalness:"The likelihood that this track is predominantly instrumental. Not necessarily the inverse of speechiness.",liveness:"Detects the presence of a live audience during the recording. Heavily studio-produced tracks score low on this measure.",speechiness:"Detects the presence of spoken word throughout the track. Sung vocals are not considered spoken word.",tempo:"The overall average tempo of the track (i.e. bpm)",valence:"The musical positiveness of the track."},d=f.map(function(e){return"mean_"+e}),u=function(){function e(t){var n=this;a(this,e),this.root=t;var r={W:500,H:500},i=r.W,c=r.H;this.root.attr("viewBox","0 0 "+r.W+" "+r.H),this.root.attr("preserveAspectRatio","xMidYMid"),this.origin={x:i/2,y:c/2};var o=.45*Math.min(i,c);this.scales=f.map(function(e,t){return d3.scaleLinear().domain([0,1]).range([[n.origin.x,n.origin.y],[n.origin.x+o*Math.cos(2*t*Math.PI/f.length),n.origin.y+o*Math.sin(2*t*Math.PI/f.length)]])});var d=this.root.selectAll(".axis").data(this.scales).enter().append("g").classed("axis",!0);this.axes=d,d.append("line").attr("x1",function(e){return e.range()[0][0]}).attr("x2",function(e){return e.range()[1][0]}).attr("y1",function(e){return e.range()[0][1]}).attr("y2",function(e){return e.range()[1][1]}),this.axis_labels=d.append("text").attr("x",function(e){return e.range()[1][0]}).attr("y",function(e){return e.range()[1][1]}).datum(function(e,t){return f[t]}).text(function(e){return e}).classed("left",function(e){return"instrumentalness"==e}).classed("right",function(e){return"energy"==e}),this.axis_labels.append("title").text(function(e,t){return s[f[t]]}),this._setupDummyWebs()}return r(e,[{key:"_dummify",value:function(e){var t={duration:1e3,ease:d3.easeCubicIn};this._transitionPoints(this._dummyPoints,this.getWeb(e),t)}},{key:"_setupDummyWebs",value:function(){this._plotPoints(this.root,this._dummyPoints,"baseline"),this._plotPoints(this.root,this._dummyPoints,"focal"),this._plotPoints(this.root,this._dummyPoints,"contrast")}},{key:"setSonicHighlights",value:function(e){e&&console.debug("Setting sonic highlights to "+e),e=e?e.split(" "):[],this.axis_labels.classed("highlight",function(t){return e.includes(t)}),this.root.selectAll(".focal .marker").classed("highlight",function(t,n){var a=f[n];return e.includes(a)})}},{key:"unsetSonicHighlights",value:function(e){e=e?e.split(" "):[],this.axes.selectAll("text.highlight").classed("highlight",function(t){return!e.includes(t)}),this.root.selectAll(".focal .marker").classed("highlight",function(t,n,a){var r=f[n];return!e.includes(r)&&d3.select(a[n]).classed("highlight")})}},{key:"_pointsForSong",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=n?d:f;return e.getAttrs(a).map(function(e,n){return t.scales[n](e)})}},{key:"_plotPoints",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=e.append("g").classed(n,!0).classed("spiderweb",!0);return a.selectAll("circle").data(t).enter().append("circle").classed("marker",!0).attr("r",5).attr("cx",function(e){return e[0]}).attr("cy",function(e){return e[1]}),a.append("polygon").attr("points",t.join(",")),a}},{key:"_transitionPoints",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.duration||1e3;n.speedup&&(a/=n.speedup);var r=n.ease||d3.easeCubic;t.selectAll("circle.marker").data(e).transition().duration(a).ease(r).attr("cx",function(e){return e[0]}).attr("cy",function(e){return e[1]}),t.select("polygon").transition().duration(a).attr("points",e.join(","))}},{key:"getWeb",value:function(e){return this.root.select(".spiderweb."+e)}},{key:"getWebs",value:function(e){return this.root.selectAll(".spiderweb."+e)}},{key:"plotSong",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"focal",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=this._pointsForSong(e),r=this.root.select(".spiderweb."+t);if(r.empty()){if(console.warn("No web found of cls "+t+", so making one from scratch. (Should never happen?)"),r=this._plotPoints(this.root,a,t),"focal"==t){var i=this._pointsForSong(e,!0);this._plotPoints(this.root,i,"baseline")}}else this._transitionPoints(a,r,n),"focal"==t&&this.plotBaseline(e,n);return r}},{key:"plotBaseline",value:function(e,t){var n=this._pointsForSong(e,!0),a=this.root.select(".baseline");this._transitionPoints(n,a,t)}},{key:"clear",value:function(){console.warn("u sure u wanna clear?"),this.root.selectAll(".spiderweb").remove()}},{key:"decontrast",value:function(){this._dummify("contrast"),this._setClassForWebs("baseline","hidden",!1)}},{key:"_setClassForWebs",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.root.selectAll(".spiderweb."+e+" > *").classed(t,n)}},{key:"contrast",value:function(e){this.plotSong(e,"contrast"),this._setClassForWebs("baseline","hidden")}},{key:"transitionSong",value:function(e){e?this.plotSong(e):this.plotSong(o.Song.dummySong())}},{key:"setSong",value:function(e){e?this.plotSong(e):this.plotSong(o.Song.dummySong())}},{key:"_dummyPoints",get:function(){var e=this;return new Array(f.length).fill(0).map(function(t,n){return e.scales[n](t)})}}]),e}();t.RadarChart=u},function(e,t,n){"use strict";var a=(n(9),n(21),n(12),n(19),n(22),n(6),n(23),n(47),n(24),n(48),n(51),n(18));n.d(t,"b",function(){return a.b});var r=(n(52),n(53),n(54),n(55));n.d(t,"a",function(){return r.a});n(56)},function(e,t,n){"use strict";var a=n(2),r=n(18),i=n(21),c=n(22),o=n(6),f=n(23),s=n(24),d=n(20);t.a=function(e,t){var n,u=typeof t;return null==t||"boolean"===u?Object(d.a)(t):("number"===u?o.a:"string"===u?(n=Object(a.a)(t))?(t=n,r.a):s.a:t instanceof a.a?r.a:t instanceof Date?c.a:Array.isArray(t)?i.a:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?f.a:o.a)(e,t)}},function(e,t,n){"use strict";function a(){}function r(e){var t;return e=(e+"").trim().toLowerCase(),(t=k.exec(e))?(t=parseInt(t[1],16),new s(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1)):(t=S.exec(e))?i(parseInt(t[1],16)):(t=O.exec(e))?new s(t[1],t[2],t[3],1):(t=_.exec(e))?new s(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=x.exec(e))?c(t[1],t[2],t[3],t[4]):(t=j.exec(e))?c(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=E.exec(e))?d(t[1],t[2]/100,t[3]/100,1):(t=R.exec(e))?d(t[1],t[2]/100,t[3]/100,t[4]):M.hasOwnProperty(e)?i(M[e]):"transparent"===e?new s(NaN,NaN,NaN,0):null}function i(e){return new s(e>>16&255,e>>8&255,255&e,1)}function c(e,t,n,a){return a<=0&&(e=t=n=NaN),new s(e,t,n,a)}function o(e){return e instanceof a||(e=r(e)),e?(e=e.rgb(),new s(e.r,e.g,e.b,e.opacity)):new s}function f(e,t,n,a){return 1===arguments.length?o(e):new s(e,t,n,null==a?1:a)}function s(e,t,n,a){this.r=+e,this.g=+t,this.b=+n,this.opacity=+a}function d(e,t,n,a){return a<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new b(e,t,n,a)}function u(e){if(e instanceof b)return new b(e.h,e.s,e.l,e.opacity);if(e instanceof a||(e=r(e)),!e)return new b;if(e instanceof b)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,c=Math.min(t,n,i),o=Math.max(t,n,i),f=NaN,s=o-c,d=(o+c)/2;return s?(f=t===o?(n-i)/s+6*(n<i):n===o?(i-t)/s+2:(t-n)/s+4,s/=d<.5?o+c:2-o-c,f*=60):s=d>0&&d<1?0:f,new b(f,s,d,e.opacity)}function l(e,t,n,a){return 1===arguments.length?u(e):new b(e,t,n,null==a?1:a)}function b(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}function h(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}t.a=a,n.d(t,"d",function(){return p}),n.d(t,"c",function(){return v}),t.e=r,t.h=o,t.g=f,t.b=s,t.f=l;var g=n(11),p=.7,v=1/p,y="\\s*([+-]?\\d+)\\s*",m="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",w="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",k=/^#([0-9a-f]{3})$/,S=/^#([0-9a-f]{6})$/,O=new RegExp("^rgb\\("+[y,y,y]+"\\)$"),_=new RegExp("^rgb\\("+[w,w,w]+"\\)$"),x=new RegExp("^rgba\\("+[y,y,y,m]+"\\)$"),j=new RegExp("^rgba\\("+[w,w,w,m]+"\\)$"),E=new RegExp("^hsl\\("+[m,w,w]+"\\)$"),R=new RegExp("^hsla\\("+[m,w,w,m]+"\\)$"),M={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object(g.a)(a,r,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Object(g.a)(s,f,Object(g.b)(a,{brighter:function(e){return e=null==e?v:Math.pow(v,e),new s(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?p:Math.pow(p,e),new s(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(1===e?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),Object(g.a)(b,l,Object(g.b)(a,{brighter:function(e){return e=null==e?v:Math.pow(v,e),new b(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?p:Math.pow(p,e),new b(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*t,r=2*n-a;return new s(h(e>=240?e-240:e+120,r,a),h(e,r,a),h(e<120?e+240:e-120,r,a),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}))},function(e,t,n){"use strict";function a(e,t){var n=Object.create(e.prototype);for(var a in t)n[a]=t[a];return n}t.b=a,t.a=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e}},function(e,t,n){"use strict";function a(e,t,n,a,r){var i=e*e,c=i*e;return((1-3*e+3*i-c)*t+(4-6*i+3*c)*n+(1+3*e+3*i-3*c)*a+c*r)/6}t.a=a,t.b=function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],c=e[r+1],o=r>0?e[r-1]:2*i-c,f=r<t-1?e[r+2]:2*c-i;return a((n-r/t)*t,o,i,c,f)}}},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Song=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(86),c=function(e){return e&&e.__esModule?e:{default:e}}(i),o=n(3),f=o.sonic_attrs.map(function(e){return"mean_"+e}),s=[].concat(o.sonic_attrs).concat(f),d=function(){function e(){a(this,e)}return r(e,[{key:"getAttrs",value:function(e){var t=[],n=!0,a=!1,r=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){var o=i.value,f=this[o];t.push(f)}}catch(e){a=!0,r=e}finally{try{!n&&c.return&&c.return()}finally{if(a)throw r}}return t}},{key:"sonic_vector",value:function(){return this.getAttrs(o.sonic_attrs)}},{key:"similarity",value:function(e){var t=this.sonic_vector(),n=e.sonic_vector();return(0,c.default)(t,n)}},{key:"get_label",value:function(){return this.artist+" - "+this.track}},{key:"decade",get:function(){return this.year-this.year%10}},{key:"dedupe_key",get:function(){return this.track}}],[{key:"fromRow",value:function(t){var n=new e;n.year=+t.Year;var a=!0,r=!1,i=void 0;try{for(var c,o=s[Symbol.iterator]();!(a=(c=o.next()).done);a=!0){var f=c.value;n[f]=+t[f]}}catch(e){r=!0,i=e}finally{try{!a&&o.return&&o.return()}finally{if(r)throw i}}return n.raw_tempo=+t.raw_tempo,n.artist=t.artist,n.track=t.track,n.spotify_id=t.spotify_id,n}},{key:"dummySong",value:function(){var t=new e,n=!0,a=!1,r=void 0;try{for(var i,c=s[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){t[i.value]=0}}catch(e){a=!0,r=e}finally{try{!n&&c.return&&c.return()}finally{if(a)throw r}}return t}}]),e}();t.Song=d},function(e,t,n){"use strict";function a(e){return"[object Array]"===Object.prototype.toString.call(e)}e.exports=Array.isArray||a},function(e,t,n){"use strict";function a(e){return"function"==typeof e}e.exports=a},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=Math.PI/180,r=180/Math.PI},function(e,t,n){"use strict";function a(e){return function(t){var n,a,i=t.length,c=new Array(i),o=new Array(i),f=new Array(i);for(n=0;n<i;++n)a=Object(r.f)(t[n]),c[n]=a.r||0,o[n]=a.g||0,f[n]=a.b||0;return c=e(c),o=e(o),f=e(f),a.opacity=1,function(e){return a.r=c(e),a.g=o(e),a.b=f(e),a+""}}}n.d(t,"b",function(){return f});var r=n(2),i=n(12),c=n(19),o=n(4);t.a=function e(t){function n(e,t){var n=a((e=Object(r.f)(e)).r,(t=Object(r.f)(t)).r),i=a(e.g,t.g),c=a(e.b,t.b),f=Object(o.a)(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=i(t),e.b=c(t),e.opacity=f(t),e+""}}var a=Object(o.b)(t);return n.gamma=e,n}(1);var f=a(i.b);a(c.a)},function(e,t,n){"use strict";var a=n(12);t.a=function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],c=e[r%t],o=e[(r+1)%t],f=e[(r+2)%t];return Object(a.a)((n-r/t)*t,i,c,o,f)}}},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";var a=n(9);t.a=function(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,c=new Array(i),o=new Array(r);for(n=0;n<i;++n)c[n]=Object(a.a)(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<i;++n)o[n]=c[n](e);return o}}},function(e,t,n){"use strict";t.a=function(e,t){var n=new Date;return e=+e,t-=e,function(a){return n.setTime(e+t*a),n}}},function(e,t,n){"use strict";var a=n(9);t.a=function(e,t){var n,r={},i={};null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={});for(n in t)n in e?r[n]=Object(a.a)(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}},function(e,t,n){"use strict";function a(e){return function(){return e}}function r(e){return function(t){return e(t)+""}}var i=n(6),c=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,o=new RegExp(c.source,"g");t.a=function(e,t){var n,f,s,d=c.lastIndex=o.lastIndex=0,u=-1,l=[],b=[];for(e+="",t+="";(n=c.exec(e))&&(f=o.exec(t));)(s=f.index)>d&&(s=t.slice(d,s),l[u]?l[u]+=s:l[++u]=s),(n=n[0])===(f=f[0])?l[u]?l[u]+=f:l[++u]=f:(l[++u]=null,b.push({i:u,x:Object(i.a)(n,f)})),d=o.lastIndex;return d<t.length&&(s=t.slice(d),l[u]?l[u]+=s:l[++u]=s),l.length<2?b[0]?r(b[0].x):a(t):(t=b.length,function(e){for(var n,a=0;a<t;++a)l[(n=b[a]).i]=n.x(e);return l.join("")})}},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(){function e(t){a(this,e),this.root=t.append("h3").classed("songchart-title",!0),this.focal=this.root.append("span").classed("focal",!0);var n=this.root.append("span").classed("contrast",!0);n.classed("hidden",!0),this.contrast_container=n,n.append("span").classed("vs",!0).text(" vs. "),this.contrast=n.append("span").classed("contrast-song",!0)}return r(e,[{key:"setSong",value:function(e){this.focal.text(e&&e.get_label()||""),this.focal.classed("hidden",!e)}},{key:"setContrast",value:function(e){this.contrast.text(e&&e.get_label()||"avg. song"),this.contrast_container.classed("hidden",!e)}}]),e}();t.SongChartTitle=i},function(e,t,n){"use strict";function a(){return window.matchMedia("(max-width: 600px)").matches}Object.defineProperty(t,"__esModule",{value:!0}),t.isMobile=a},function(e,t,n){var a,r;/*!
 * ScrollMagic v2.0.5 (2015-04-29)
 * The javascript library for magical scroll interactions.
 * (c) 2015 Jan Paepke (@janpaepke)
 * Project Website: http://scrollmagic.io
 * 
 * @version 2.0.5
 * @license Dual licensed under MIT license and GPL.
 * @author Jan Paepke - e-mail@janpaepke.de
 *
 * @file ScrollMagic main library.
 */
!function(i,c){a=c,void 0!==(r="function"==typeof a?a.call(t,n,t,e):a)&&(e.exports=r)}(0,function(){"use strict";var e=function(){a.log(2,"(COMPATIBILITY NOTICE) -> As of ScrollMagic 2.0.0 you need to use 'new ScrollMagic.Controller()' to create a new controller instance. Use 'new ScrollMagic.Scene()' to instance a scene.")};e.version="2.0.5",window.addEventListener("mousewheel",function(){});e.Controller=function(n){var r,i,c="ScrollMagic.Controller",o=t.defaults,f=this,s=a.extend({},o,n),d=[],u=!1,l=0,b="PAUSED",h=!0,g=0,p=!0,v=function(){s.refreshInterval>0&&(i=window.setTimeout(_,s.refreshInterval))},y=function(){return s.vertical?a.get.scrollTop(s.container):a.get.scrollLeft(s.container)},m=function(){return s.vertical?a.get.height(s.container):a.get.width(s.container)},w=this._setScrollPos=function(e){s.vertical?h?window.scrollTo(a.get.scrollLeft(),e):s.container.scrollTop=e:h?window.scrollTo(e,a.get.scrollTop()):s.container.scrollLeft=e},k=function(){if(p&&u){var e=a.type.Array(u)?u:d.slice(0);u=!1;var t=l;l=f.scrollPos();var n=l-t;0!==n&&(b=n>0?"FORWARD":"REVERSE"),"REVERSE"===b&&e.reverse(),e.forEach(function(t,n){x(3,"updating Scene "+(n+1)+"/"+e.length+" ("+d.length+" total)"),t.update(!0)}),0===e.length&&s.loglevel>=3&&x(3,"updating 0 Scenes (nothing added to controller)")}},S=function(){r=a.rAF(k)},O=function(e){x(3,"event fired causing an update:",e.type),"resize"==e.type&&(g=m(),b="PAUSED"),!0!==u&&(u=!0,S())},_=function(){if(!h&&g!=m()){var e;try{e=new Event("resize",{bubbles:!1,cancelable:!1})}catch(t){e=document.createEvent("Event"),e.initEvent("resize",!1,!1)}s.container.dispatchEvent(e)}d.forEach(function(e,t){e.refresh()}),v()},x=this._log=function(e,t){s.loglevel>=e&&(Array.prototype.splice.call(arguments,1,0,"("+c+") ->"),a.log.apply(window,arguments))};this._options=s;var j=function(e){if(e.length<=1)return e;var t=e.slice(0);return t.sort(function(e,t){return e.scrollOffset()>t.scrollOffset()?1:-1}),t};return this.addScene=function(t){if(a.type.Array(t))t.forEach(function(e,t){f.addScene(e)});else if(t instanceof e.Scene){if(t.controller()!==f)t.addTo(f);else if(d.indexOf(t)<0){d.push(t),d=j(d),t.on("shift.controller_sort",function(){d=j(d)});for(var n in s.globalSceneOptions)t[n]&&t[n].call(t,s.globalSceneOptions[n]);x(3,"adding Scene (now "+d.length+" total)")}}else x(1,"ERROR: invalid argument supplied for '.addScene()'");return f},this.removeScene=function(e){if(a.type.Array(e))e.forEach(function(e,t){f.removeScene(e)});else{var t=d.indexOf(e);t>-1&&(e.off("shift.controller_sort"),d.splice(t,1),x(3,"removing Scene (now "+d.length+" left)"),e.remove())}return f},this.updateScene=function(t,n){return a.type.Array(t)?t.forEach(function(e,t){f.updateScene(e,n)}):n?t.update(!0):!0!==u&&t instanceof e.Scene&&(u=u||[],-1==u.indexOf(t)&&u.push(t),u=j(u),S()),f},this.update=function(e){return O({type:"resize"}),e&&k(),f},this.scrollTo=function(t,n){if(a.type.Number(t))w.call(s.container,t,n);else if(t instanceof e.Scene)t.controller()===f?f.scrollTo(t.scrollOffset(),n):x(2,"scrollTo(): The supplied scene does not belong to this controller. Scroll cancelled.",t);else if(a.type.Function(t))w=t;else{var r=a.get.elements(t)[0];if(r){for(;r.parentNode.hasAttribute("data-scrollmagic-pin-spacer");)r=r.parentNode;var i=s.vertical?"top":"left",c=a.get.offset(s.container),o=a.get.offset(r);h||(c[i]-=f.scrollPos()),f.scrollTo(o[i]-c[i],n)}else x(2,"scrollTo(): The supplied argument is invalid. Scroll cancelled.",t)}return f},this.scrollPos=function(e){return arguments.length?(a.type.Function(e)?y=e:x(2,"Provided value for method 'scrollPos' is not a function. To change the current scroll position use 'scrollTo()'."),f):y.call(f)},this.info=function(e){var t={size:g,vertical:s.vertical,scrollPos:l,scrollDirection:b,container:s.container,isDocument:h};return arguments.length?void 0!==t[e]?t[e]:void x(1,'ERROR: option "'+e+'" is not available'):t},this.loglevel=function(e){return arguments.length?(s.loglevel!=e&&(s.loglevel=e),f):s.loglevel},this.enabled=function(e){return arguments.length?(p!=e&&(p=!!e,f.updateScene(d,!0)),f):p},this.destroy=function(e){window.clearTimeout(i);for(var t=d.length;t--;)d[t].destroy(e);return s.container.removeEventListener("resize",O),s.container.removeEventListener("scroll",O),a.cAF(r),x(3,"destroyed "+c+" (reset: "+(e?"true":"false")+")"),null},function(){for(var t in s)o.hasOwnProperty(t)||(x(2,'WARNING: Unknown option "'+t+'"'),delete s[t]);if(s.container=a.get.elements(s.container)[0],!s.container)throw x(1,"ERROR creating object "+c+": No valid scroll container supplied"),c+" init failed.";h=s.container===window||s.container===document.body||!document.body.contains(s.container),h&&(s.container=window),g=m(),s.container.addEventListener("resize",O),s.container.addEventListener("scroll",O),s.refreshInterval=parseInt(s.refreshInterval)||o.refreshInterval,v(),x(3,"added new "+c+" controller (v"+e.version+")")}(),f};var t={defaults:{container:window,vertical:!0,globalSceneOptions:{},loglevel:2,refreshInterval:100}};e.Controller.addOption=function(e,n){t.defaults[e]=n},e.Controller.extend=function(t){var n=this;e.Controller=function(){return n.apply(this,arguments),this.$super=a.extend({},this),t.apply(this,arguments)||this},a.extend(e.Controller,n),e.Controller.prototype=n.prototype,e.Controller.prototype.constructor=e.Controller},e.Scene=function(t){var r,i,c="ScrollMagic.Scene",o=n.defaults,f=this,s=a.extend({},o,t),d="BEFORE",u=0,l={start:0,end:0},b=0,h=!0,g={};this.on=function(e,t){return a.type.Function(t)?(e=e.trim().split(" "),e.forEach(function(e){var n=e.split("."),a=n[0],r=n[1];"*"!=a&&(g[a]||(g[a]=[]),g[a].push({namespace:r||"",callback:t}))})):p(1,"ERROR when calling '.on()': Supplied callback for '"+e+"' is not a valid function!"),f},this.off=function(e,t){return e?(e=e.trim().split(" "),e.forEach(function(e,n){var a=e.split("."),r=a[0],i=a[1]||"";("*"===r?Object.keys(g):[r]).forEach(function(e){for(var n=g[e]||[],a=n.length;a--;){var r=n[a];!r||i!==r.namespace&&"*"!==i||t&&t!=r.callback||n.splice(a,1)}n.length||delete g[e]})}),f):(p(1,"ERROR: Invalid event name supplied."),f)},this.trigger=function(t,n){if(t){var a=t.trim().split("."),r=a[0],i=a[1],c=g[r];p(3,"event fired:",r,n?"->":"",n||""),c&&c.forEach(function(t,a){i&&i!==t.namespace||t.callback.call(f,new e.Event(r,t.namespace,f,n))})}else p(1,"ERROR: Invalid event name supplied.");return f},f.on("change.internal",function(e){"loglevel"!==e.what&&"tweenChanges"!==e.what&&("triggerElement"===e.what?m():"reverse"===e.what&&f.update())}).on("shift.internal",function(e){v(),f.update()});var p=this._log=function(e,t){s.loglevel>=e&&(Array.prototype.splice.call(arguments,1,0,"("+c+") ->"),a.log.apply(window,arguments))};this.addTo=function(t){return t instanceof e.Controller?i!=t&&(i&&i.removeScene(f),i=t,S(),y(!0),m(!0),v(),i.info("container").addEventListener("resize",w),t.addScene(f),f.trigger("add",{controller:i}),p(3,"added "+c+" to controller"),f.update()):p(1,"ERROR: supplied argument of 'addTo()' is not a valid ScrollMagic Controller"),f},this.enabled=function(e){return arguments.length?(h!=e&&(h=!!e,f.update(!0)),f):h},this.remove=function(){if(i){i.info("container").removeEventListener("resize",w);var e=i;i=void 0,e.removeScene(f),f.trigger("remove"),p(3,"removed "+c+" from controller")}return f},this.destroy=function(e){return f.trigger("destroy",{reset:e}),f.remove(),f.off("*.*"),p(3,"destroyed "+c+" (reset: "+(e?"true":"false")+")"),null},this.update=function(e){if(i)if(e)if(i.enabled()&&h){var t,n=i.info("scrollPos");t=s.duration>0?(n-l.start)/(l.end-l.start):n>=l.start?1:0,f.trigger("update",{startPos:l.start,endPos:l.end,scrollPos:n}),f.progress(t)}else x&&"DURING"===d&&E(!0);else i.updateScene(f,!1);return f},this.refresh=function(){return y(),m(),f},this.progress=function(e){if(arguments.length){var t=!1,n=d,a=i?i.info("scrollDirection"):"PAUSED",r=s.reverse||e>=u;if(0===s.duration?(t=u!=e,u=e<1&&r?0:1,d=0===u?"BEFORE":"DURING"):e<0&&"BEFORE"!==d&&r?(u=0,d="BEFORE",t=!0):e>=0&&e<1&&r?(u=e,d="DURING",t=!0):e>=1&&"AFTER"!==d?(u=1,d="AFTER",t=!0):"DURING"!==d||r||E(),t){var c={progress:u,state:d,scrollDirection:a},o=d!=n,l=function(e){f.trigger(e,c)};o&&"DURING"!==n&&(l("enter"),l("BEFORE"===n?"start":"end")),l("progress"),o&&"DURING"!==d&&(l("BEFORE"===d?"start":"end"),l("leave"))}return f}return u};var v=function(){l={start:b+s.offset},i&&s.triggerElement&&(l.start-=i.info("size")*s.triggerHook),l.end=l.start+s.duration},y=function(e){if(r){O("duration",r.call(f))&&!e&&(f.trigger("change",{what:"duration",newval:s.duration}),f.trigger("shift",{reason:"duration"}))}},m=function(e){var t=0,n=s.triggerElement;if(i&&n){for(var r=i.info(),c=a.get.offset(r.container),o=r.vertical?"top":"left";n.parentNode.hasAttribute("data-scrollmagic-pin-spacer");)n=n.parentNode;var d=a.get.offset(n);r.isDocument||(c[o]-=i.scrollPos()),t=d[o]-c[o]}var u=t!=b;b=t,u&&!e&&f.trigger("shift",{reason:"triggerElementPosition"})},w=function(e){s.triggerHook>0&&f.trigger("shift",{reason:"containerResize"})},k=a.extend(n.validate,{duration:function(e){if(a.type.String(e)&&e.match(/^(\.|\d)*\d+%$/)){var t=parseFloat(e)/100;e=function(){return i?i.info("size")*t:0}}if(a.type.Function(e)){r=e;try{e=parseFloat(r())}catch(t){e=-1}}if(e=parseFloat(e),!a.type.Number(e)||e<0)throw r?(r=void 0,['Invalid return value of supplied function for option "duration":',e]):['Invalid value for option "duration":',e];return e}}),S=function(e){e=arguments.length?[e]:Object.keys(k),e.forEach(function(e,t){var n;if(k[e])try{n=k[e](s[e])}catch(t){n=o[e];var r=a.type.String(t)?[t]:t;a.type.Array(r)?(r[0]="ERROR: "+r[0],r.unshift(1),p.apply(this,r)):p(1,"ERROR: Problem executing validation callback for option '"+e+"':",t.message)}finally{s[e]=n}})},O=function(e,t){var n=!1,a=s[e];return s[e]!=t&&(s[e]=t,S(e),n=a!=s[e]),n},_=function(e){f[e]||(f[e]=function(t){return arguments.length?("duration"===e&&(r=void 0),O(e,t)&&(f.trigger("change",{what:e,newval:s[e]}),n.shifts.indexOf(e)>-1&&f.trigger("shift",{reason:e})),f):s[e]})};this.controller=function(){return i},this.state=function(){return d},this.scrollOffset=function(){return l.start},this.triggerPosition=function(){var e=s.offset;return i&&(s.triggerElement?e+=b:e+=i.info("size")*f.triggerHook()),e};var x,j;f.on("shift.internal",function(e){var t="duration"===e.reason;("AFTER"===d&&t||"DURING"===d&&0===s.duration)&&E(),t&&R()}).on("progress.internal",function(e){E()}).on("add.internal",function(e){R()}).on("destroy.internal",function(e){f.removePin(e.reset)});var E=function(e){if(x&&i){var t=i.info(),n=j.spacer.firstChild;if(e||"DURING"!==d){var r={position:j.inFlow?"relative":"absolute",top:0,left:0},c=a.css(n,"position")!=r.position;j.pushFollowers?s.duration>0&&("AFTER"===d&&0===parseFloat(a.css(j.spacer,"padding-top"))?c=!0:"BEFORE"===d&&0===parseFloat(a.css(j.spacer,"padding-bottom"))&&(c=!0)):r[t.vertical?"top":"left"]=s.duration*u,a.css(n,r),c&&R()}else{"fixed"!=a.css(n,"position")&&(a.css(n,{position:"fixed"}),R());var o=a.get.offset(j.spacer,!0),f=s.reverse||0===s.duration?t.scrollPos-l.start:Math.round(u*s.duration*10)/10;o[t.vertical?"top":"left"]+=f,a.css(j.spacer.firstChild,{top:o.top,left:o.left})}}},R=function(){if(x&&i&&j.inFlow){var e="DURING"===d,t=i.info("vertical"),n=j.spacer.firstChild,r=a.isMarginCollapseType(a.css(j.spacer,"display")),c={};j.relSize.width||j.relSize.autoFullWidth?e?a.css(x,{width:a.get.width(j.spacer)}):a.css(x,{width:"100%"}):(c["min-width"]=a.get.width(t?x:n,!0,!0),c.width=e?c["min-width"]:"auto"),j.relSize.height?e?a.css(x,{height:a.get.height(j.spacer)-(j.pushFollowers?s.duration:0)}):a.css(x,{height:"100%"}):(c["min-height"]=a.get.height(t?n:x,!0,!r),c.height=e?c["min-height"]:"auto"),j.pushFollowers&&(c["padding"+(t?"Top":"Left")]=s.duration*u,c["padding"+(t?"Bottom":"Right")]=s.duration*(1-u)),a.css(j.spacer,c)}},M=function(){i&&x&&"DURING"===d&&!i.info("isDocument")&&E()},A=function(){i&&x&&"DURING"===d&&((j.relSize.width||j.relSize.autoFullWidth)&&a.get.width(window)!=a.get.width(j.spacer.parentNode)||j.relSize.height&&a.get.height(window)!=a.get.height(j.spacer.parentNode))&&R()},P=function(e){i&&x&&"DURING"===d&&!i.info("isDocument")&&(e.preventDefault(),i._setScrollPos(i.info("scrollPos")-((e.wheelDelta||e[i.info("vertical")?"wheelDeltaY":"wheelDeltaX"])/3||30*-e.detail)))};this.setPin=function(e,t){var n={pushFollowers:!0,spacerClass:"scrollmagic-pin-spacer"};if(t=a.extend({},n,t),!(e=a.get.elements(e)[0]))return p(1,"ERROR calling method 'setPin()': Invalid pin element supplied."),f;if("fixed"===a.css(e,"position"))return p(1,"ERROR calling method 'setPin()': Pin does not work with elements that are positioned 'fixed'."),f;if(x){if(x===e)return f;f.removePin()}x=e;var r=x.parentNode.style.display,i=["top","left","bottom","right","margin","marginLeft","marginRight","marginTop","marginBottom"];x.parentNode.style.display="none";var c="absolute"!=a.css(x,"position"),o=a.css(x,i.concat(["display"])),d=a.css(x,["width","height"]);x.parentNode.style.display=r,!c&&t.pushFollowers&&(p(2,"WARNING: If the pinned element is positioned absolutely pushFollowers will be disabled."),t.pushFollowers=!1),window.setTimeout(function(){x&&0===s.duration&&t.pushFollowers&&p(2,"WARNING: pushFollowers =",!0,"has no effect, when scene duration is 0.")},0);var u=x.parentNode.insertBefore(document.createElement("div"),x),l=a.extend(o,{position:c?"relative":"absolute",boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"});if(c||a.extend(l,a.css(x,["width","height"])),a.css(u,l),u.setAttribute("data-scrollmagic-pin-spacer",""),a.addClass(u,t.spacerClass),j={spacer:u,relSize:{width:"%"===d.width.slice(-1),height:"%"===d.height.slice(-1),autoFullWidth:"auto"===d.width&&c&&a.isMarginCollapseType(o.display)},pushFollowers:t.pushFollowers,inFlow:c},!x.___origStyle){x.___origStyle={};var b=x.style;i.concat(["width","height","position","boxSizing","mozBoxSizing","webkitBoxSizing"]).forEach(function(e){x.___origStyle[e]=b[e]||""})}return j.relSize.width&&a.css(u,{width:d.width}),j.relSize.height&&a.css(u,{height:d.height}),u.appendChild(x),a.css(x,{position:c?"relative":"absolute",margin:"auto",top:"auto",left:"auto",bottom:"auto",right:"auto"}),(j.relSize.width||j.relSize.autoFullWidth)&&a.css(x,{boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"}),window.addEventListener("scroll",M),window.addEventListener("resize",M),window.addEventListener("resize",A),x.addEventListener("mousewheel",P),x.addEventListener("DOMMouseScroll",P),p(3,"added pin"),E(),f},this.removePin=function(e){if(x){if("DURING"===d&&E(!0),e||!i){var t=j.spacer.firstChild;if(t.hasAttribute("data-scrollmagic-pin-spacer")){var n=j.spacer.style,r=["margin","marginLeft","marginRight","marginTop","marginBottom"];margins={},r.forEach(function(e){margins[e]=n[e]||""}),a.css(t,margins)}j.spacer.parentNode.insertBefore(t,j.spacer),j.spacer.parentNode.removeChild(j.spacer),x.parentNode.hasAttribute("data-scrollmagic-pin-spacer")||(a.css(x,x.___origStyle),delete x.___origStyle)}window.removeEventListener("scroll",M),window.removeEventListener("resize",M),window.removeEventListener("resize",A),x.removeEventListener("mousewheel",P),x.removeEventListener("DOMMouseScroll",P),x=void 0,p(3,"removed pin (reset: "+(e?"true":"false")+")")}return f};var C,T=[];return f.on("destroy.internal",function(e){f.removeClassToggle(e.reset)}),this.setClassToggle=function(e,t){var n=a.get.elements(e);return 0!==n.length&&a.type.String(t)?(T.length>0&&f.removeClassToggle(),C=t,T=n,f.on("enter.internal_class leave.internal_class",function(e){var t="enter"===e.type?a.addClass:a.removeClass;T.forEach(function(e,n){t(e,C)})}),f):(p(1,"ERROR calling method 'setClassToggle()': Invalid "+(0===n.length?"element":"classes")+" supplied."),f)},this.removeClassToggle=function(e){return e&&T.forEach(function(e,t){a.removeClass(e,C)}),f.off("start.internal_class end.internal_class"),C=void 0,T=[],f},function(){for(var e in s)o.hasOwnProperty(e)||(p(2,'WARNING: Unknown option "'+e+'"'),delete s[e]);for(var t in o)_(t);S()}(),f};var n={defaults:{duration:0,offset:0,triggerElement:void 0,triggerHook:.5,reverse:!0,loglevel:2},validate:{offset:function(e){if(e=parseFloat(e),!a.type.Number(e))throw['Invalid value for option "offset":',e];return e},triggerElement:function(e){if(e=e||void 0){var t=a.get.elements(e)[0];if(!t)throw['Element defined in option "triggerElement" was not found:',e];e=t}return e},triggerHook:function(e){var t={onCenter:.5,onEnter:1,onLeave:0};if(a.type.Number(e))e=Math.max(0,Math.min(parseFloat(e),1));else{if(!(e in t))throw['Invalid value for option "triggerHook": ',e];e=t[e]}return e},reverse:function(e){return!!e},loglevel:function(e){if(e=parseInt(e),!a.type.Number(e)||e<0||e>3)throw['Invalid value for option "loglevel":',e];return e}},shifts:["duration","offset","triggerHook"]};e.Scene.addOption=function(t,a,r,i){t in n.defaults?e._util.log(1,"[static] ScrollMagic.Scene -> Cannot add Scene option '"+t+"', because it already exists."):(n.defaults[t]=a,n.validate[t]=r,i&&n.shifts.push(t))},e.Scene.extend=function(t){var n=this;e.Scene=function(){return n.apply(this,arguments),this.$super=a.extend({},this),t.apply(this,arguments)||this},a.extend(e.Scene,n),e.Scene.prototype=n.prototype,e.Scene.prototype.constructor=e.Scene},e.Event=function(e,t,n,a){a=a||{};for(var r in a)this[r]=a[r];return this.type=e,this.target=this.currentTarget=n,this.namespace=t||"",this.timeStamp=this.timestamp=Date.now(),this};var a=e._util=function(e){var t,n={},a=function(e){return parseFloat(e)||0},r=function(t){return t.currentStyle?t.currentStyle:e.getComputedStyle(t)},i=function(t,n,i,c){if((n=n===document?e:n)===e)c=!1;else if(!h.DomElement(n))return 0;t=t.charAt(0).toUpperCase()+t.substr(1).toLowerCase();var o=(i?n["offset"+t]||n["outer"+t]:n["client"+t]||n["inner"+t])||0;if(i&&c){var f=r(n);o+="Height"===t?a(f.marginTop)+a(f.marginBottom):a(f.marginLeft)+a(f.marginRight)}return o},c=function(e){return e.replace(/^[^a-z]+([a-z])/g,"$1").replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})};n.extend=function(e){for(e=e||{},t=1;t<arguments.length;t++)if(arguments[t])for(var n in arguments[t])arguments[t].hasOwnProperty(n)&&(e[n]=arguments[t][n]);return e},n.isMarginCollapseType=function(e){return["block","flex","list-item","table","-webkit-box"].indexOf(e)>-1};var o=0,f=["ms","moz","webkit","o"],s=e.requestAnimationFrame,d=e.cancelAnimationFrame;for(t=0;!s&&t<f.length;++t)s=e[f[t]+"RequestAnimationFrame"],d=e[f[t]+"CancelAnimationFrame"]||e[f[t]+"CancelRequestAnimationFrame"];s||(s=function(t){var n=(new Date).getTime(),a=Math.max(0,16-(n-o)),r=e.setTimeout(function(){t(n+a)},a);return o=n+a,r}),d||(d=function(t){e.clearTimeout(t)}),n.rAF=s.bind(e),n.cAF=d.bind(e);var u=["error","warn","log"],l=e.console||{};for(l.log=l.log||function(){},t=0;t<u.length;t++){var b=u[t];l[b]||(l[b]=l.log)}n.log=function(e){(e>u.length||e<=0)&&(e=u.length);var t=new Date,n=("0"+t.getHours()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)+":"+("0"+t.getSeconds()).slice(-2)+":"+("00"+t.getMilliseconds()).slice(-3),a=u[e-1],r=Array.prototype.splice.call(arguments,1),i=Function.prototype.bind.call(l[a],l);r.unshift(n),i.apply(l,r)};var h=n.type=function(e){return Object.prototype.toString.call(e).replace(/^\[object (.+)\]$/,"$1").toLowerCase()};h.String=function(e){return"string"===h(e)},h.Function=function(e){return"function"===h(e)},h.Array=function(e){return Array.isArray(e)},h.Number=function(e){return!h.Array(e)&&e-parseFloat(e)+1>=0},h.DomElement=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName};var g=n.get={};return g.elements=function(t){var n=[];if(h.String(t))try{t=document.querySelectorAll(t)}catch(e){return n}if("nodelist"===h(t)||h.Array(t))for(var a=0,r=n.length=t.length;a<r;a++){var i=t[a];n[a]=h.DomElement(i)?i:g.elements(i)}else(h.DomElement(t)||t===document||t===e)&&(n=[t]);return n},g.scrollTop=function(t){return t&&"number"==typeof t.scrollTop?t.scrollTop:e.pageYOffset||0},g.scrollLeft=function(t){return t&&"number"==typeof t.scrollLeft?t.scrollLeft:e.pageXOffset||0},g.width=function(e,t,n){return i("width",e,t,n)},g.height=function(e,t,n){return i("height",e,t,n)},g.offset=function(e,t){var n={top:0,left:0};if(e&&e.getBoundingClientRect){var a=e.getBoundingClientRect();n.top=a.top,n.left=a.left,t||(n.top+=g.scrollTop(),n.left+=g.scrollLeft())}return n},n.addClass=function(e,t){t&&(e.classList?e.classList.add(t):e.className+=" "+t)},n.removeClass=function(e,t){t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))},n.css=function(e,t){if(h.String(t))return r(e)[c(t)];if(h.Array(t)){var n={},a=r(e);return t.forEach(function(e,t){n[e]=a[c(e)]}),n}for(var i in t){var o=t[i];o==parseFloat(o)&&(o+="px"),e.style[c(i)]=o}},n}(window||{});return e.Scene.prototype.addIndicators=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling addIndicators() due to missing Plugin 'debug.addIndicators'. Please make sure to include plugins/debug.addIndicators.js"),this},e.Scene.prototype.removeIndicators=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling removeIndicators() due to missing Plugin 'debug.addIndicators'. Please make sure to include plugins/debug.addIndicators.js"),this},e.Scene.prototype.setTween=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling setTween() due to missing Plugin 'animation.gsap'. Please make sure to include plugins/animation.gsap.js"),this},e.Scene.prototype.removeTween=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling removeTween() due to missing Plugin 'animation.gsap'. Please make sure to include plugins/animation.gsap.js"),this},e.Scene.prototype.setVelocity=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling setVelocity() due to missing Plugin 'animation.velocity'. Please make sure to include plugins/animation.velocity.js"),this},e.Scene.prototype.removeVelocity=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling removeVelocity() due to missing Plugin 'animation.velocity'. Please make sure to include plugins/animation.velocity.js"),this},e})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(27),r=function(e){return e&&e.__esModule?e:{default:e}}(a),i=new r.default.Controller({loglevel:2});t.default=i},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(){var e=b.node().offsetWidth;h!==e&&(h=e,d.default.resize())}var i=n(30),c=a(i),o=n(31),f=a(o),s=n(32),d=a(s),u=n(5),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),b=d3.select("body"),h=0;!function(){b.classed("is-mobile",f.default.any()),window.addEventListener("resize",(0,c.default)(r,150)),l.load().then(function(){return d.default.init()})}()},function(e,t,n){(function(t){function n(e,t,n){function r(t){var n=g,a=p;return g=p=void 0,_=t,y=e.apply(a,n)}function i(e){return _=e,m=setTimeout(d,t),x?r(e):y}function f(e){var n=e-O,a=e-_,r=t-n;return j?k(r,v-a):r}function s(e){var n=e-O,a=e-_;return void 0===O||n>=t||n<0||j&&a>=v}function d(){var e=S();if(s(e))return u(e);m=setTimeout(d,f(e))}function u(e){return m=void 0,E&&g?r(e):(g=p=void 0,y)}function l(){void 0!==m&&clearTimeout(m),_=0,g=O=p=m=void 0}function b(){return void 0===m?y:u(S())}function h(){var e=S(),n=s(e);if(g=arguments,p=this,O=e,n){if(void 0===m)return i(O);if(j)return m=setTimeout(d,t),r(O)}return void 0===m&&(m=setTimeout(d,t)),y}var g,p,v,y,m,O,_=0,x=!1,j=!1,E=!0;if("function"!=typeof e)throw new TypeError(o);return t=c(t)||0,a(n)&&(x=!!n.leading,j="maxWait"in n,v=j?w(c(n.maxWait)||0,t):v,E="trailing"in n?!!n.trailing:E),h.cancel=l,h.flush=b,h}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function r(e){return!!e&&"object"==typeof e}function i(e){return"symbol"==typeof e||r(e)&&m.call(e)==s}function c(e){if("number"==typeof e)return e;if(i(e))return f;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(d,"");var n=l.test(e);return n||b.test(e)?h(e.slice(2),n?2:8):u.test(e)?f:+e}var o="Expected a function",f=NaN,s="[object Symbol]",d=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,b=/^0o[0-7]+$/i,h=parseInt,g="object"==typeof t&&t&&t.Object===Object&&t,p="object"==typeof self&&self&&self.Object===Object&&self,v=g||p||Function("return this")(),y=Object.prototype,m=y.toString,w=Math.max,k=Math.min,S=function(){return v.Date.now()};e.exports=n}).call(t,n(16))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={android:function(){return navigator.userAgent.match(/Android/i)},blackberry:function(){return navigator.userAgent.match(/BlackBerry/i)},ios:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},opera:function(){return navigator.userAgent.match(/Opera Mini/i)},windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return a.android()||a.blackberry()||a.ios()||a.opera()||a.windows()}};t.default=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(){console.log("got a resize"),this.explorer.onResize()}function i(){this.explorer=o.default.init(),f.StoryTeller.init(),window.onbeforeunload=function(){window.scrollTo(0,0)}}Object.defineProperty(t,"__esModule",{value:!0});var c=n(33),o=a(c),f=n(90),s=n(28),d=(a(s),n(94),{});r=r.bind(d),i=i.bind(d),t.default={init:i,resize:r}},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){for(var t=[],n=0;n<10;n++){var a=e+n;a>=b&&a<=h&&t.push(e+n)}return t}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=(n(7),n(89)),f=(n(13),n(26)),s=n(3),d=a(s),u=n(5),l=a(u),b=d.year_range[0],h=d.year_range[1],g=[1950,1960,1970,1980,1990,2e3,2010],p=function(){function e(){r(this,e),this.songdat=l.db;this.root=d3.select("#song-explorer"),this.margin={top:20,right:20,bottom:50,left:20};var t=this.songdat[0];this.decade=t.decade,this.year=t.year,this.setupControls(),this.songView=this.root.append("div").classed("song-view",!0),this.songChart=new o.SongChart(this.songView),this.moreSongs=this.root.append("div");var n=this.moreSongs.append("div").classed("moreby",!0).classed("picker",!0).style("display","none");n.append("h4").classed("label",!0),n.append("span").classed("songs",!0),this.moreby=n;var a=this.moreSongs.append("div").classed("simsongs",!0).classed("picker",!0);a.append("h4").classed("label",!0).text("Similar songs"),a.append("span").classed("songs",!0);var i=this.moreSongs.append("div").classed("simsongs-future",!0).classed("picker",!0);i.append("h4").classed("label",!0).text("Dissimilar songs"),i.append("span").classed("songs",!0),this.selectSong(t)}return c(e,[{key:"onResize",value:function(){this.songChart.onResize()}},{key:"setupControls",value:function(){var e=this,t=this.root.append("div").classed("picker",!0);t.append("div").classed("decade-picker",!0).selectAll(".decade-selector").data(g).enter().append("a").classed("decade-selector",!0).classed("active",function(t){return t==e.decade}).text(function(e){return e+"s"}).on("click",function(t){return e.setDecade(t)}),this.year_picker=t.append("div").classed("year-picker",!0),this.updateYears(),this.song_picker=t.append(this.compact?"select":"div").classed("song-picker",!0),this.compact&&(this.song_picker.on("change",function(){e.selectSong(l.lookup(d3.event.target.value))}),this.dummy_song_option=this.song_picker.append("option").classed("dummy",!0).attr("disabled",!0).html("select a song",!0)),this.updateSongs()}},{key:"setDecade",value:function(e){var t=this;e!=this.decade&&(this.decade=e,this.root.selectAll(".decade-selector").classed("active",function(e){return e==t.decade}),this.year=Math.min(h,Math.max(b,this.decade)),this.updateYears(),this.updateSongs())}},{key:"updateYears",value:function(){var e=this,t=i(this.decade),n=this.year_picker.selectAll(".year-selector").data(t);n.exit().remove();var a=n.enter().append("a").classed("year-selector",!0);n.merge(a).text(function(e){return e}).on("click",function(t){return e.setYear(t)}).classed("active",function(t){return t==e.year})}},{key:"setYear",value:function(e){var t=this;console.debug("Setting year to ",e),this.year=e,this.year_picker.selectAll(".year-selector").classed("active",function(e){return e==t.year}),this.updateSongs()}},{key:"updateSongs",value:function(){var e=this,t=this.songdat.filter(function(t){return t.year==e.year});t.sort(function(e,t){return d3.ascending(e.track,t.track)});var n=this.song_picker.selectAll(".song-selector").data(t,function(e){return e.track});n.exit().remove();var a=n.enter().append(this.compact?"option":"a").classed("song-selector",!0);n=n.merge(a).text(function(e){return e.track}),this.compact?(n.attr("value",function(e){return e.track}).attr("selected",function(t){return t==e.song?"1":null}),this.dummy_song_option.attr("selected",this.song&&this.song.year==this.year?null:"1")):n.on("click",function(t){return e.selectSong(t)}).on("mouseover",function(t){return e.contrastSong(t)}).on("mouseout",function(t){return e.decontrastSong()}).on("contextmenu",function(t){return e.songChart.setSticky()}).classed("active",function(t){return t==e.song})}},{key:"populateSongs",value:function(e,t){var n=this,a=e.selectAll(".song-selector").data(t);a.exit().remove();var r=a.enter().append("a").classed("song-selector",!0);a.merge(r).text(function(e){return e.track}).on("click touchstart",function(e){return n.selectSong(e)}).on("mouseover",function(e){return n.contrastSong(e)}).on("mouseout",function(e){return n.decontrastSong()}).on("contextmenu",function(e){return n.songChart.setSticky()}).classed("active",function(e){return e==n.song})}},{key:"selectSong",value:function(e){var t=this;console.debug("Setting song to "+e.track),this.song=e,this.compact?this.updateSongs():this.song_picker.selectAll(".song-selector").classed("active",function(e){return e==t.song}),this.songChart.setSong(this.song),this.setDecade(this.song.decade),this.setYear(this.song.year),this.updateMoreSongs()}},{key:"updateMoreSongs",value:function(){var e=this,t=this.songdat.filter(function(t){return t.artist==e.song.artist&&t.track!=e.song.track});0==t.length?this.moreby.style("display","none"):(this.moreby.style("display","initial"),this.moreby.select(".label").text("More by "+this.song.artist),this.populateSongs(this.moreby.select(".songs"),t));var n=this.songdat.filter(function(t){return t.year-e.song.year<100&&e.song.year-t.year<100&&t.track!=e.song.track});n.sort(function(t,n){return d3.descending(e.song.similarity(t),e.song.similarity(n))});var a=n.slice(0,10);this.populateSongs(this.moreSongs.select(".simsongs .songs"),a),a=n.slice(-10).reverse(),this.populateSongs(this.moreSongs.select(".simsongs-future .songs"),a)}},{key:"contrastSong",value:function(e){e!=this.song&&this.songChart.contrastSong(e)}},{key:"decontrastSong",value:function(){this.songChart.decontrastSong()}},{key:"compact",get:function(){return(0,f.isMobile)()}}],[{key:"init",value:function(){return new e}}]),e}();t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(35);n.d(t,"schemeCategory10",function(){return a.a});var r=n(36);n.d(t,"schemeAccent",function(){return r.a});var i=n(37);n.d(t,"schemeDark2",function(){return i.a});var c=n(38);n.d(t,"schemePaired",function(){return c.a});var o=n(39);n.d(t,"schemePastel1",function(){return o.a});var f=n(40);n.d(t,"schemePastel2",function(){return f.a});var s=n(41);n.d(t,"schemeSet1",function(){return s.a});var d=n(42);n.d(t,"schemeSet2",function(){return d.a});var u=n(43);n.d(t,"schemeSet3",function(){return u.a});var l=n(44);n.d(t,"interpolateBrBG",function(){return l.a}),n.d(t,"schemeBrBG",function(){return l.b});var b=n(57);n.d(t,"interpolatePRGn",function(){return b.a}),n.d(t,"schemePRGn",function(){return b.b});var h=n(58);n.d(t,"interpolatePiYG",function(){return h.a}),n.d(t,"schemePiYG",function(){return h.b});var g=n(59);n.d(t,"interpolatePuOr",function(){return g.a}),n.d(t,"schemePuOr",function(){return g.b});var p=n(60);n.d(t,"interpolateRdBu",function(){return p.a}),n.d(t,"schemeRdBu",function(){return p.b});var v=n(61);n.d(t,"interpolateRdGy",function(){return v.a}),n.d(t,"schemeRdGy",function(){return v.b});var y=n(62);n.d(t,"interpolateRdYlBu",function(){return y.a}),n.d(t,"schemeRdYlBu",function(){return y.b});var m=n(63);n.d(t,"interpolateRdYlGn",function(){return m.a}),n.d(t,"schemeRdYlGn",function(){return m.b});var w=n(64);n.d(t,"interpolateSpectral",function(){return w.a}),n.d(t,"schemeSpectral",function(){return w.b});var k=n(65);n.d(t,"interpolateBuGn",function(){return k.a}),n.d(t,"schemeBuGn",function(){return k.b});var S=n(66);n.d(t,"interpolateBuPu",function(){return S.a}),n.d(t,"schemeBuPu",function(){return S.b});var O=n(67);n.d(t,"interpolateGnBu",function(){return O.a}),n.d(t,"schemeGnBu",function(){return O.b});var _=n(68);n.d(t,"interpolateOrRd",function(){return _.a}),n.d(t,"schemeOrRd",function(){return _.b});var x=n(69);n.d(t,"interpolatePuBuGn",function(){return x.a}),n.d(t,"schemePuBuGn",function(){return x.b});var j=n(70);n.d(t,"interpolatePuBu",function(){return j.a}),n.d(t,"schemePuBu",function(){return j.b});var E=n(71);n.d(t,"interpolatePuRd",function(){return E.a}),n.d(t,"schemePuRd",function(){return E.b});var R=n(72);n.d(t,"interpolateRdPu",function(){return R.a}),n.d(t,"schemeRdPu",function(){return R.b});var M=n(73);n.d(t,"interpolateYlGnBu",function(){return M.a}),n.d(t,"schemeYlGnBu",function(){return M.b});var A=n(74);n.d(t,"interpolateYlGn",function(){return A.a}),n.d(t,"schemeYlGn",function(){return A.b});var P=n(75);n.d(t,"interpolateYlOrBr",function(){return P.a}),n.d(t,"schemeYlOrBr",function(){return P.b});var C=n(76);n.d(t,"interpolateYlOrRd",function(){return C.a}),n.d(t,"schemeYlOrRd",function(){return C.b});var T=n(77);n.d(t,"interpolateBlues",function(){return T.a}),n.d(t,"schemeBlues",function(){return T.b});var N=n(78);n.d(t,"interpolateGreens",function(){return N.a}),n.d(t,"schemeGreens",function(){return N.b});var F=n(79);n.d(t,"interpolateGreys",function(){return F.a}),n.d(t,"schemeGreys",function(){return F.b});var I=n(80);n.d(t,"interpolatePurples",function(){return I.a}),n.d(t,"schemePurples",function(){return I.b});var B=n(81);n.d(t,"interpolateReds",function(){return B.a}),n.d(t,"schemeReds",function(){return B.b});var D=n(82);n.d(t,"interpolateOranges",function(){return D.a}),n.d(t,"schemeOranges",function(){return D.b});var z=n(83);n.d(t,"interpolateCubehelixDefault",function(){return z.a});var L=n(84);n.d(t,"interpolateRainbow",function(){return L.b}),n.d(t,"interpolateWarm",function(){return L.c}),n.d(t,"interpolateCool",function(){return L.a});var Y=n(85);n.d(t,"interpolateViridis",function(){return Y.a}),n.d(t,"interpolateMagma",function(){return Y.c}),n.d(t,"interpolateInferno",function(){return Y.b}),n.d(t,"interpolatePlasma",function(){return Y.d})},function(e,t,n){"use strict";var a=n(0);t.a=Object(a.a)("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf")},function(e,t,n){"use strict";var a=n(0);t.a=Object(a.a)("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666")},function(e,t,n){"use strict";var a=n(0);t.a=Object(a.a)("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666")},function(e,t,n){"use strict";var a=n(0);t.a=Object(a.a)("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928")},function(e,t,n){"use strict";var a=n(0);t.a=Object(a.a)("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2")},function(e,t,n){"use strict";var a=n(0);t.a=Object(a.a)("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc")},function(e,t,n){"use strict";var a=n(0);t.a=Object(a.a)("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999")},function(e,t,n){"use strict";var a=n(0);t.a=Object(a.a)("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3")},function(e,t,n){"use strict";var a=n(0);t.a=Object(a.a)("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f")},function(e,t,n){"use strict";n.d(t,"b",function(){return i});var a=n(0),r=n(1),i=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(a.a);t.a=Object(r.a)(i)},function(e,t,n){"use strict";function a(e){if(e instanceof i)return new i(e.l,e.a,e.b,e.opacity);if(e instanceof l){var t=e.h*g.a;return new i(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof h.b||(e=Object(h.h)(e));var n=s(e.r),a=s(e.g),r=s(e.b),o=c((.4124564*n+.3575761*a+.1804375*r)/p),f=c((.2126729*n+.7151522*a+.072175*r)/v);return new i(116*f-16,500*(o-f),200*(f-c((.0193339*n+.119192*a+.9503041*r)/y)),e.opacity)}function r(e,t,n,r){return 1===arguments.length?a(e):new i(e,t,n,null==r?1:r)}function i(e,t,n,a){this.l=+e,this.a=+t,this.b=+n,this.opacity=+a}function c(e){return e>S?Math.pow(e,1/3):e/k+m}function o(e){return e>w?e*e*e:k*(e-m)}function f(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function s(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function d(e){if(e instanceof l)return new l(e.h,e.c,e.l,e.opacity);e instanceof i||(e=a(e));var t=Math.atan2(e.b,e.a)*g.b;return new l(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function u(e,t,n,a){return 1===arguments.length?d(e):new l(e,t,n,null==a?1:a)}function l(e,t,n,a){this.h=+e,this.c=+t,this.l=+n,this.opacity=+a}t.a=r,t.b=u;var b=n(11),h=n(10),g=n(17),p=.95047,v=1,y=1.08883,m=4/29,w=6/29,k=3*w*w,S=w*w*w;Object(b.a)(i,r,Object(b.b)(h.a,{brighter:function(e){return new i(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new i(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return e=v*o(e),t=p*o(t),n=y*o(n),new h.b(f(3.2404542*t-1.5371385*e-.4985314*n),f(-.969266*t+1.8760108*e+.041556*n),f(.0556434*t-.2040259*e+1.0572252*n),this.opacity)}})),Object(b.a)(l,u,Object(b.b)(h.a,{brighter:function(e){return new l(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new l(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return a(this).rgb()}}))},function(e,t,n){"use strict";function a(e){if(e instanceof i)return new i(e.h,e.s,e.l,e.opacity);e instanceof o.b||(e=Object(o.h)(e));var t=e.r/255,n=e.g/255,a=e.b/255,r=(p*a+h*t-g*n)/(p+h-g),c=a-r,s=(b*(n-r)-u*c)/l,d=Math.sqrt(s*s+c*c)/(b*r*(1-r)),v=d?Math.atan2(s,c)*f.b-120:NaN;return new i(v<0?v+360:v,d,r,e.opacity)}function r(e,t,n,r){return 1===arguments.length?a(e):new i(e,t,n,null==r?1:r)}function i(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}t.a=r;var c=n(11),o=n(10),f=n(17),s=-.14861,d=1.78277,u=-.29227,l=-.90649,b=1.97294,h=b*l,g=b*d,p=d*u-l*s;Object(c.a)(i,r,Object(c.b)(o.a,{brighter:function(e){return e=null==e?o.c:Math.pow(o.c,e),new i(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?o.d:Math.pow(o.d,e),new i(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*f.a,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),a=Math.cos(e),r=Math.sin(e);return new o.b(255*(t+n*(s*a+d*r)),255*(t+n*(u*a+l*r)),255*(t+n*(b*a)),this.opacity)}}))},function(e,t,n){"use strict"},function(e,t,n){"use strict";function a(e,t,n,a){function i(e){return e.length?e.pop()+" ":""}function c(e,a,i,c,o,f){if(e!==i||a!==c){var s=o.push("translate(",null,t,null,n);f.push({i:s-4,x:Object(r.a)(e,i)},{i:s-2,x:Object(r.a)(a,c)})}else(i||c)&&o.push("translate("+i+t+c+n)}function o(e,t,n,c){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),c.push({i:n.push(i(n)+"rotate(",null,a)-2,x:Object(r.a)(e,t)})):t&&n.push(i(n)+"rotate("+t+a)}function f(e,t,n,c){e!==t?c.push({i:n.push(i(n)+"skewX(",null,a)-2,x:Object(r.a)(e,t)}):t&&n.push(i(n)+"skewX("+t+a)}function s(e,t,n,a,c,o){if(e!==n||t!==a){var f=c.push(i(c)+"scale(",null,",",null,")");o.push({i:f-4,x:Object(r.a)(e,n)},{i:f-2,x:Object(r.a)(t,a)})}else 1===n&&1===a||c.push(i(c)+"scale("+n+","+a+")")}return function(t,n){var a=[],r=[];return t=e(t),n=e(n),c(t.translateX,t.translateY,n.translateX,n.translateY,a,r),o(t.rotate,n.rotate,a,r),f(t.skewX,n.skewX,a,r),s(t.scaleX,t.scaleY,n.scaleX,n.scaleY,a,r),t=n=null,function(e){for(var t,n=-1,i=r.length;++n<i;)a[(t=r[n]).i]=t.x(e);return a.join("")}}}var r=n(6),i=n(49);a(i.a,"px, ","px)","deg)"),a(i.b,", ",")",")")},function(e,t,n){"use strict";function a(e){return"none"===e?s.b:(i||(i=document.createElement("DIV"),c=document.documentElement,o=document.defaultView),i.style.transform=e,e=o.getComputedStyle(c.appendChild(i),null).getPropertyValue("transform"),c.removeChild(i),e=e.slice(7,-1).split(","),Object(s.a)(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function r(e){return null==e?s.b:(f||(f=document.createElementNS("http://www.w3.org/2000/svg","g")),f.setAttribute("transform",e),(e=f.transform.baseVal.consolidate())?(e=e.matrix,Object(s.a)(e.a,e.b,e.c,e.d,e.e,e.f)):s.b)}t.a=a,t.b=r;var i,c,o,f,s=n(50)},function(e,t,n){"use strict";n.d(t,"b",function(){return r});var a=180/Math.PI,r={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};t.a=function(e,t,n,r,i,c){var o,f,s;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(f=Math.sqrt(n*n+r*r))&&(n/=f,r/=f,s/=f),e*r<t*n&&(e=-e,t=-t,s=-s,o=-o),{translateX:i,translateY:c,rotate:Math.atan2(t,e)*a,skewX:Math.atan(s)*a,scaleX:o,scaleY:f}}},function(e,t,n){"use strict";Math.SQRT2},function(e,t,n){"use strict";function a(e){return function(t,n){var a=e((t=Object(r.d)(t)).h,(n=Object(r.d)(n)).h),c=Object(i.a)(t.s,n.s),o=Object(i.a)(t.l,n.l),f=Object(i.a)(t.opacity,n.opacity);return function(e){return t.h=a(e),t.s=c(e),t.l=o(e),t.opacity=f(e),t+""}}}var r=n(2),i=n(4);a(i.c),a(i.a)},function(e,t,n){"use strict";n(2),n(4)},function(e,t,n){"use strict";function a(e){return function(t,n){var a=e((t=Object(r.c)(t)).h,(n=Object(r.c)(n)).h),c=Object(i.a)(t.c,n.c),o=Object(i.a)(t.l,n.l),f=Object(i.a)(t.opacity,n.opacity);return function(e){return t.h=a(e),t.c=c(e),t.l=o(e),t.opacity=f(e),t+""}}}var r=n(2),i=n(4);a(i.c),a(i.a)},function(e,t,n){"use strict";function a(e){return function t(n){function a(t,a){var c=e((t=Object(r.b)(t)).h,(a=Object(r.b)(a)).h),o=Object(i.a)(t.s,a.s),f=Object(i.a)(t.l,a.l),s=Object(i.a)(t.opacity,a.opacity);return function(e){return t.h=c(e),t.s=o(e),t.l=f(Math.pow(e,n)),t.opacity=s(e),t+""}}return n=+n,a.gamma=t,a}(1)}n.d(t,"a",function(){return c});var r=n(2),i=n(4),c=(a(i.c),a(i.a))},function(e,t,n){"use strict"},function(e,t,n){"use strict";n.d(t,"b",function(){return i});var a=n(0),r=n(1),i=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(a.a);t.a=Object(r.a)(i)},function(e,t,n){"use strict";n.d(t,"b",function(){return i});var a=n(0),r=n(1),i=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(a.a);t.a=Object(r.a)(i)},function(e,t,n){"use strict";n.d(t,"b",function(){return i});var a=n(0),r=n(1),i=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(a.a);t.a=Object(r.a)(i)},function(e,t,n){"use strict";n.d(t,"b",function(){return i});var a=n(0),r=n(1),i=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(a.a);t.a=Object(r.a)(i)},function(e,t,n){"use strict";n.d(t,"b",function(){return i});var a=n(0),r=n(1),i=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(a.a);t.a=Object(r.a)(i)},function(e,t,n){"use strict";n.d(t,"b",function(){return i});var a=n(0),r=n(1),i=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(a.a);t.a=Object(r.a)(i)},function(e,t,n){"use strict";n.d(t,"b",function(){return i});var a=n(0),r=n(1),i=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(a.a);t.a=Object(r.a)(i)},function(e,t,n){"use strict";n.d(t,"b",function(){return i});var a=n(0),r=n(1),i=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(a.a);t.a=Object(r.a)(i)},function(e,t,n){"use strict";n.d(t,"b",function(){return i});var a=n(0),r=n(1),i=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(a.a);t.a=Object(r.a)(i)},function(e,t,n){"use strict";n.d(t,"b",function(){return i});var a=n(0),r=n(1),i=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(a.a);t.a=Object(r.a)(i)},function(e,t,n){"use strict";n.d(t,"b",function(){return i});var a=n(0),r=n(1),i=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(a.a);t.a=Object(r.a)(i)},function(e,t,n){"use strict";n.d(t,"b",function(){return i});var a=n(0),r=n(1),i=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(a.a);t.a=Object(r.a)(i)},function(e,t,n){"use strict";n.d(t,"b",function(){return i});var a=n(0),r=n(1),i=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(a.a);t.a=Object(r.a)(i)},function(e,t,n){"use strict";n.d(t,"b",function(){return i});var a=n(0),r=n(1),i=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(a.a);t.a=Object(r.a)(i)},function(e,t,n){"use strict";n.d(t,"b",function(){return i});var a=n(0),r=n(1),i=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(a.a);t.a=Object(r.a)(i)},function(e,t,n){"use strict";n.d(t,"b",function(){return i});var a=n(0),r=n(1),i=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(a.a);t.a=Object(r.a)(i)},function(e,t,n){"use strict";n.d(t,"b",function(){return i});var a=n(0),r=n(1),i=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(a.a);t.a=Object(r.a)(i)},function(e,t,n){"use strict";n.d(t,"b",function(){return i});var a=n(0),r=n(1),i=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(a.a);t.a=Object(r.a)(i)},function(e,t,n){"use strict";n.d(t,"b",function(){return i});var a=n(0),r=n(1),i=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(a.a);t.a=Object(r.a)(i)},function(e,t,n){"use strict";n.d(t,"b",function(){return i});var a=n(0),r=n(1),i=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(a.a);t.a=Object(r.a)(i)},function(e,t,n){"use strict";n.d(t,"b",function(){return i});var a=n(0),r=n(1),i=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(a.a);t.a=Object(r.a)(i)},function(e,t,n){"use strict";n.d(t,"b",function(){return i});var a=n(0),r=n(1),i=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(a.a);t.a=Object(r.a)(i)},function(e,t,n){"use strict";n.d(t,"b",function(){return i});var a=n(0),r=n(1),i=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(a.a);t.a=Object(r.a)(i)},function(e,t,n){"use strict";n.d(t,"b",function(){return i});var a=n(0),r=n(1),i=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(a.a);t.a=Object(r.a)(i)},function(e,t,n){"use strict";n.d(t,"b",function(){return i});var a=n(0),r=n(1),i=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(a.a);t.a=Object(r.a)(i)},function(e,t,n){"use strict";n.d(t,"b",function(){return i});var a=n(0),r=n(1),i=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(a.a);t.a=Object(r.a)(i)},function(e,t,n){"use strict";var a=n(2),r=n(8);t.a=Object(r.a)(Object(a.b)(300,.5,0),Object(a.b)(-240,.5,1))},function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"a",function(){return c});var a=n(2),r=n(8),i=Object(r.a)(Object(a.b)(-100,.75,.35),Object(a.b)(80,1.5,.8)),c=Object(r.a)(Object(a.b)(260,.75,.35),Object(a.b)(80,1.5,.8)),o=Object(a.b)();t.b=function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return o.h=360*e-100,o.s=1.5-1.5*t,o.l=.8-.9*t,o+""}},function(e,t,n){"use strict";function a(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}n.d(t,"c",function(){return i}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return o});var r=n(0);t.a=a(Object(r.a)("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var i=a(Object(r.a)("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),c=a(Object(r.a)("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),o=a(Object(r.a)("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))},function(e,t,n){"use strict";function a(e,t){return function(n,a){return e(n,a,t)}}function r(e,t,n){var r,s,d;if(!o(e))throw new TypeError("cosine-similarity()::invalid input argument. First argument must be an array. Value: `"+e+"`.");if(!o(t))throw new TypeError("cosine-similarity()::invalid input argument. Second argument must be an array. Value: `"+t+"`.");if(arguments.length>2&&!f(n))throw new TypeError("cosine-similarity()::invalid input argument. Accessor must be a function. Value: `"+n+"`.");if(e.length!==t.length)throw new Error("cosine-similarity()::invalid input argument. Input arrays must have the same length.");return e.length?(n?(r=i(e,t,n),s=c(e,a(n,0)),d=c(t,a(n,1))):(r=i(e,t),s=c(e),d=c(t)),r/(s*d)):null}var i=n(87),c=n(88),o=n(14),f=n(15);e.exports=r},function(e,t,n){"use strict";function a(e,t,n){if(!r(e))throw new TypeError("dot()::invalid input argument. First argument must be an array. Value: `"+e+"`.");if(!r(t))throw new TypeError("dot()::invalid input argument. Second argument must be an array. Value: `"+t+"`.");if(arguments.length>2&&!i(n))throw new TypeError("dot()::invalid input argument. Accessor must be a function. Value: `"+n+"`.");var a,c=e.length,o=0;if(c!==t.length)throw new Error("dot()::invalid input argument. Arrays must be of equal length.");if(!c)return null;if(n)for(a=0;a<c;a++)o+=n(e[a],a,0)*n(t[a],a,1);else for(a=0;a<c;a++)o+=e[a]*t[a];return o}var r=n(14),i=n(15);e.exports=a},function(e,t,n){"use strict";function a(e,t){if(!r(e))throw new TypeError("l2norm()::invalid input argument. Must provide an array.  Value: `"+e+"`.");if(arguments.length>1&&!i(t))throw new TypeError("l2norm()::invalid input argument. Accessor must be a function. Value: `"+t+"`.");var n,a,c,o,f=e.length,s=0,d=1;if(!f)return null;if(t)for(o=0;o<f;o++)a=t(e[o],o),(c=a<0?-a:a)>0&&(c>s?(n=s/a,d=1+d*n*n,s=c):(n=a/s,d+=n*n));else for(o=0;o<f;o++)a=e[o],(c=a<0?-a:a)>0&&(c>s?(n=s/a,d=1+d*n*n,s=c):(n=a/s,d+=n*n));return s*Math.sqrt(d)}var r=n(14),i=n(15);e.exports=a},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.SongChart=void 0;var i=("function"==typeof Symbol&&Symbol.iterator,function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()),c=n(7),o=n(3),f=(a(o),n(5)),s=a(f),d=n(25),u=function(){function e(t){var n=this;r(this,e),this.root=t,this.name=t.attr("class"),this.heading=this.root.append("div").classed("heading",!0).classed("tk-atlas",!0).classed("prose__hed",!0),this.title=new d.SongChartTitle(this.heading);var a=Math.min(this.root.node().offsetWidth,.8*window.innerHeight);a=Math.min(600,a),this.svg=this.root.append("svg").classed("radar",!0).attr("width",a).attr("height",a),this.radar=new c.RadarChart(this.svg),this.meta_tray=this.root.append("div").style("display","none"),this.debug=!1,this.root.on("dblclick",function(){return n.toggleDebug()})}return i(e,[{key:"toggleDebug",value:function(){console.warn("Debug view deprecated"),console.log("toggling debug view"),this.debug=!this.debug,this.meta_tray.style("display",this.debug?"initial":"none")}},{key:"onResize",value:function(){}},{key:"setSong",value:function(e){if(this.decontrastSong(),this.contrast=void 0,this.sticky=!1,"string"==typeof e){if(this.song&&e==this.song.track)return;e=s.lookup(e)}e!=this.song&&(this.song=e,this.radar.setSong(this.song),this.title.setSong(e),this.song&&this.updateTray())}},{key:"transitionSong",value:function(e){this.setSong(e)}},{key:"updateTray",value:function(){return}},{key:"updateHeading",value:function(){var e=this.song.get_label();this.heading.select(".main").text(e);var t=this.heading.select(".contrast");if(this.contrast){t.style("opacity",1);var n=100*this.song.similarity(this.contrast),a=" vs. "+this.contrast.get_label()+" ("+n.toPrecision(3)+"% similar)";t.text(a)}else t.text("|"),t.style("opacity",0)}},{key:"contrastSong",value:function(e){this.contrast,this.contrast=e,this.title.setContrast(e),this.radar.contrast(e)}},{key:"decontrastSong",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!this.contrast||this.sticky&&!e||(this.radar.decontrast(),this.contrast=void 0,this.title.setContrast())}},{key:"setSticky",value:function(){this.sticky=!0}}]),e}();t.SongChart=u},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e){var t=e.offsetHeight;e.tagName&&"DIV"==e.tagName&&e.children.length&&(e=e.children[e.children.length-1]);var n=window.getComputedStyle?getComputedStyle(e,null):e.currentStyle;return t+(parseInt(n.marginBottom)||0)}Object.defineProperty(t,"__esModule",{value:!0}),t.StoryTeller=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=n(27),s=r(f),d=n(28),u=r(d),l=n(91),b=n(93),h=n(26),g=n(3),p=a(g),v=n(5),y=a(v),m=function(){function e(){var t=this;i(this,e),this.controller=u.default;this.root=d3.select("#story");var n=this.root.select(".sticky");this.sticky=n,this.chart=new l.StickySongGraphic(n),this.setupSonicIntro(),this.setupPlayerEmbeds();var a=window.innerHeight,r=Math.max(1,this.root.node().offsetHeight-a);console.log("Outer scene duration = "+r);new s.default.Scene({triggerElement:"#story",triggerHook:"onLeave",duration:r}).setPin("#story .sticky",{pushFollowers:!1}).on("enter",function(){console.log("Pinning story div"),t.toggleFixed(!0,!1)}).on("leave",function(e){console.log("Unpinning story div"),t.toggleFixed(!1,"FORWARD"===e.scrollDirection)}).addTo(this.controller);this.setupScenes(),this.setHidden(!0)}return o(e,[{key:"setHidden",value:function(e){this.sticky.classed("hidden",e)}},{key:"toggleFixed",value:function(e,t){}},{key:"setupSonicIntro",value:function(){for(var e=this.root.select("#sonicreveal"),t=void 0,n=0;n<p.sonic_attrs.length;n++){t=(n+6)%p.sonic_attrs.length;var a=p.sonic_attrs[t],r=e.append("div").classed("step",!0).attr("data-hide_avg","1").attr("data-highlight_sonics",a),i=b.attr_texts[a];r.selectAll("p").data(i).enter().append("p").classed("card",!0).html(function(e){return e})}}},{key:"setupPlayerEmbeds",value:function(){this.root.selectAll("div.player").datum(function(){return this.dataset.song}).append("iframe").attr("width",300).attr("height",80).attr("frameborder","0").attr("allow","encrypted-media").attr("src",function(e){return"https://open.spotify.com/embed?uri=spotify:track:"+y.lookup(e).spotify_id})}},{key:"setupScenes",value:function(){var e=this;this.root.selectAll(".step, p").datum(function(){return this.dataset}).each(function(t,n,a){e.addSceneForStep(t,a[n])})}},{key:"addSceneForStep",value:function(e,t){var n=this,a=(0,h.isMobile)()?-1*window.innerHeight*.25:0;e.offset&&(a+=e.offset);var r=d3.select(t),i=new s.default.Scene({triggerElement:t,triggerHook:"onCenter",duration:c(t),offset:a}),o=this.progressCbForStepdat(e);o&&i.on("progress",o),i.on("enter",function(a){console.debug("Entered scene with data ",e),console.debug("Scene duration = ",i.duration()),console.debug("Node = ",t),r.classed("active",!0).classed("post-active",!1),n.enterCbForStepdat(e)(a)}).on("leave",function(t){console.debug("Left scene with data ",e),r.classed("active",!1).classed("post-active",!0)}).on("leave",this.leaveCbForStepdat(e)).addTo(this.controller)}},{key:"enterCbForStepdat",value:function(e){var t=this;return function(n){if(e.song&&t.chart.transitionSong(e.song),e.highlight_sonics&&t.chart.setSonicHighlight(e.highlight_sonics),e.hide_avg||e.show_avg){var a=e.show_avg;t.chart.showAverage(a)}e.highlight_web&&t.chart.highlightWeb(e.highlight_web),e.fade_web&&t.chart.fadeWeb(e.fade_web),e.clearsong&&t.chart.clearSong(),e.contrast&&t.chart.setContrast(e.contrast),e.reveal&&t.setHidden(!1)}}},{key:"leaveCbForStepdat",value:function(e){var t=this;return function(n){(e.highlight_web||e.fade_web)&&t.chart.clearWebHighlights(),e.highlight_sonics&&t.chart.radar.unsetSonicHighlights(e.highlight_sonics),e.contrast&&t.chart.decontrast()}}},{key:"progressCbForStepdat",value:function(e){var t=this;if(e.year_a){var n=d3.scaleQuantize().domain([0,1]).range(d3.range(+e.year_a,+e.year_b-1,-1));return function(e){var a=n(e.progress);t.chart.tweenYear(a)}}}}],[{key:"init",value:function(){return new e}}]),e}();t.StoryTeller=m},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.StickySongGraphic=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(7),o=n(3),f=a(o),s=n(5),d=a(s),u=n(25),l=n(92),b=function(e){return e&&e.__esModule?e:{default:e}}(l),h=function(){function e(t){r(this,e),this.finishTween=(0,b.default)(this._finishTween,200),this.root=t,this.name=t.attr("class"),this.song=void 0,this.heading=this.root.append("div").classed("heading",!0).classed("tk-atlas",!0).classed("prose__hed",!0),this.slider=new g(this.root),this.title=new u.SongChartTitle(this.heading);var n=this.root.append("div").classed("chart",!0);this.svg=n.append("svg").classed("radar",!0),this.radar=new c.RadarChart(this.svg,n)}return i(e,[{key:"setSonicHighlight",value:function(e){this.radar.setSonicHighlights(e)}},{key:"clearSong",value:function(){console.log("clearing"),this.setSong()}},{key:"showAverage",value:function(e){this.radar.getWebs("baseline").classed("hidden",!e)}},{key:"highlightWeb",value:function(e){this.radar.getWebs(e).classed("highlight",!0)}},{key:"fadeWeb",value:function(e){this.radar.getWebs(e).classed("fade",!0)}},{key:"clearWebHighlights",value:function(){for(var e=["highlight","fade"],t=0;t<e.length;t++){var n=e[t];this.radar.getWebs(n).classed(n,!1)}}},{key:"setSong",value:function(e){if("string"==typeof e){if(this.song&&e==this.song.track)return;e=d.lookup(e)}e!=this.song&&(this.song=e,this.radar.transitionSong(e),this.title.setSong(e),e&&this.slider.setYear(e.year))}},{key:"transitionSong",value:function(e){this.setSong(e)}},{key:"setYear",value:function(e){this.slider.setYear(e)}},{key:"setContrast",value:function(e){if("string"==typeof e){if(this.contrast&&e==this.contrast.track)return;e=d.lookup(e)}e!=this.contrast&&(this.contrast=e,this.radar.contrast(e),this.slider.setContrastYear(this.contrast.year),this.title.setContrast(e))}},{key:"decontrast",value:function(){this.contrast=void 0,this.radar.decontrast(),this.slider.decontrast(),this.title.setContrast()}},{key:"tweenYear",value:function(e){this.slider.snapYear(e),this.finishTween(e)}},{key:"_finishTween",value:function(e){var t=d.query_one({year:e}),n={speedup:3,ease:d3.cubic};this.radar.plotBaseline(t,n)}},{key:"updateHeading",value:function(){console.warn("updateHeading deprecated");var e=this.song?this.song.get_label():"",t=this.contrast?this.contrast.get_label():"";this.heading.select(".title .focal").text(e),this.heading.select(".title .contrast-song").text(t),this.heading.select(".title").classed("hidden",!this.song),this.heading.select(".title .contrast").classed("hidden",!this.contrast),this.song&&this.setYear(this.song.year),this.contrast&&this.slider.setContrastYear(this.contrast.year)}}]),e}(),g=function(){function e(t){r(this,e);this.svg=t.append("svg").attr("viewBox","0 0 800 50").classed("year-slider",!0).attr("preserveAspectRatio","xMidYMid meet"),this.svg.append("defs").html('\n      <filter x="0" y="0" width="1" height="1" id="highlight">\n        <feFlood/>\n        <feComposite in="SourceGraphic"/>\n      </filter>\n      <filter x="0" y="0" width="1" height="1" id="highlight-contrast">\n        <feFlood/>\n        <feComposite in="SourceGraphic"/>\n      </filter>\n      ');this.y=25,this.scale=d3.scaleLinear().domain(f.year_range).range([(50/3*.5*4+2.5)/2,782.0833333333334]);this.svg.append("line").classed("track",!0).attr("x1",this.scale.range()[0]).attr("x2",this.scale.range()[1]).attr("y1",this.y).attr("y2",this.y).attr("stroke","#000").attr("stroke-width",1);this.marker=this._markerOfClass("focal"),this.contrast_marker=this._markerOfClass("contrast")}return i(e,[{key:"_markerOfClass",value:function(e){var t=this.svg.append("g").classed("marker",!0).classed(e,!0).attr("transform","translate(0, "+this.y+")");return t.append("text").classed("year",!0).attr("y",0),t}},{key:"setYear",value:function(e){var t=this.scale(e);this.year_set?this.marker.select("text").text(e).transition("yearswing").duration(1500).ease(d3.easeCubic).attr("x",t):(this.year_set=!0,this.marker.select("text").attr("x",t).text(e))}},{key:"snapYear",value:function(e){this.marker.select("text").interrupt("yearswing"),this.year_set=!0;var t=this.scale(e);this.marker.select("text").attr("x",t).text(e)}},{key:"setContrastYear",value:function(e){var t=this.scale(e);this.contrast_marker.classed("hidden",!1).select("text").text(e).transition().duration(600).attr("x",t)}},{key:"decontrast",value:function(){this.contrast_marker.classed("hidden",!0)}}]),e}();t.StickySongGraphic=h},function(e,t,n){(function(t){function n(e,t,n){function a(t){var n=g,a=p;return g=p=void 0,_=t,y=e.apply(a,n)}function i(e){return _=e,m=setTimeout(d,t),x?a(e):y}function c(e){var n=e-w,a=e-_,r=t-n;return j?S(r,v-a):r}function s(e){var n=e-w,a=e-_;return void 0===w||n>=t||n<0||j&&a>=v}function d(){var e=O();if(s(e))return u(e);m=setTimeout(d,c(e))}function u(e){return m=void 0,E&&g?a(e):(g=p=void 0,y)}function l(){void 0!==m&&clearTimeout(m),_=0,g=w=p=m=void 0}function b(){return void 0===m?y:u(O())}function h(){var e=O(),n=s(e);if(g=arguments,p=this,w=e,n){if(void 0===m)return i(w);if(j)return m=setTimeout(d,t),a(w)}return void 0===m&&(m=setTimeout(d,t)),y}var g,p,v,y,m,w,_=0,x=!1,j=!1,E=!0;if("function"!=typeof e)throw new TypeError(f);return t=o(t)||0,r(n)&&(x=!!n.leading,j="maxWait"in n,v=j?k(o(n.maxWait)||0,t):v,E="trailing"in n?!!n.trailing:E),h.cancel=l,h.flush=b,h}function a(e,t,a){var i=!0,c=!0;if("function"!=typeof e)throw new TypeError(f);return r(a)&&(i="leading"in a?!!a.leading:i,c="trailing"in a?!!a.trailing:c),n(e,t,{leading:i,maxWait:t,trailing:c})}function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function i(e){return!!e&&"object"==typeof e}function c(e){return"symbol"==typeof e||i(e)&&w.call(e)==d}function o(e){if("number"==typeof e)return e;if(c(e))return s;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(u,"");var n=b.test(e);return n||h.test(e)?g(e.slice(2),n?2:8):l.test(e)?s:+e}var f="Expected a function",s=NaN,d="[object Symbol]",u=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,b=/^0b[01]+$/i,h=/^0o[0-7]+$/i,g=parseInt,p="object"==typeof t&&t&&t.Object===Object&&t,v="object"==typeof self&&self&&self.Object===Object&&self,y=p||v||Function("return this")(),m=Object.prototype,w=m.toString,k=Math.max,S=Math.min,O=function(){return y.Date.now()};e.exports=a}).call(t,n(16))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={danceability:["Its got a good beat, and you can dance to it!","The <b>danceability</b> score is a measure of how suitable a song is to dance to. Believe is a real banger, so its a little surprising it wasn't rated 100 percent on this scale. However, its important to note that these scores don't come from kids on American Bandstand&#8202;&#8202;they come from a computer. Danceability is calculated algorithmically using criteria like the tempo and the strength and regularity of the beat.","The latter might explain why this song didn't reach the top of the danceability scale. The song features two sections dominated by synth pads, with no percussion: the intro, and a breakdown following the bridge. Our algorithm is very likely to lose the beat during these sections, and therefore ding the danceability score."],tempo:["<b>Tempo</b> is the simplest, most primitive sonic feature in our toolbox. Its just the speed of the song. Believe clocks in at a moderately fast 133 beats per minute.","Computers are generally good at guessing a song's tempo (Believes official sheet music gives the tempo as a moderate disco beat of 132 bpm&#8202;&#8202;not bad!). But when they do fail, they tend to fail pretty spectacularly. The most common cause of failure is that the algorithm guesses half the actual tempo (e.g., because of a weak second and fourth beat), or doubles it (e.g., because of a strong hi-hat on the eigth notes)."],energy:["<b>Energy</b> is a measure of a tracks intensity. This might seem similar to danceability, but a song can be energetic (fast, loud, noisy), but undanceable because of a disjointed or weak beat.",'Believe, with its <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=Lxc2nCmZzrs">boots and pants</a> techno beat and throbbing synths gets a very high energy score.'],acousticness:["<b>Acousticness</b> is how likely the algorithm thinks it is that this song was recorded acoustically (i.e., without electronic instruments or effects).","Cher's extravagantly autotuned vocals&#8202;&#8202;a famous and trendsetting feature of the song&#8202;&#8202;aren't fooling anyone. Not even a computer. This song is zero percent acoustic."],liveness:["<b>Liveness</b> is how likely the algorithm thinks it is that this song was recorded live. Again, the songs heavy-handed production leads to a very low score on this metric."],speechiness:["<b>Speechiness</b> is a measure of the amount of spoken-word (as opposed to singing) in the track. Believe gets a low score here, though not quite zero (perhaps because of the I dont need you anymore section of the bridge, which has a somewhat speechy feel)."],instrumentalness:["<b>Instrumentalness</b> is the estimated likelihood that this is an instrumental track. Believe, with its prominent vocals throughout, gets a zero on this."],valence:["Finally, <b>valence</b> is one of the most high-level, abstract features used. It represents the positiveness of the track. That is, is listening to it likely to make you happy? Or does it have more of a sad, dark vibe?","Believe gets a slightly below average 48 percent valence score. We might agree with that based on the lyrics, but the algorithm only has access to the raw audio of the song, not the liner notes. Its assessment of valence comes from the songs sound.",'I would tend to agree that Believe doesn\'t sound like sunshine and rainbows, but it\'s hard to say exactly why. It\'s commonly observed that songs in a \n      <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=-9YopDo5_xU">major key</a>\n      tend to sound more upbeat and positive than those written in a \n      <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=jcA--c2U4Wg">minor key</a>,\n      but Believe is in the key of G major, so the answer isnt that simple.',"Maybe theres just something unsettling about the alien, artificial sound of those synth pads? Or maybe its something in the harmonies. The arpeggiated chord played after the first line of the chorus sounds a bit wonky: it's a major seventh, inverted such that the first two notes are separated by a semitone&#8202;-&#8202;an extremely dissonant interval. Or maybe its just Chers eerily robotic voice."]};t.attr_texts=a},function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e){return document.querySelector(e)}function i(e){return[].concat(a((arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelectorAll(e)))}function c(e,t){return[].concat(a(e.querySelectorAll(t)))}function o(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function f(e,t){e.classList?e.classList.add(t):e.className=e.className+" "+t}function s(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function d(e,t){t=t||0;var n=e.getBoundingClientRect().top+t,a=window.pageYOffset||document.documentElement.scrollTop,r=a+n;window.scrollTo(0,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.select=r,t.selectAll=i,t.find=c,t.removeClass=o,t.addClass=f,t.hasClass=s,t.jumpTo=d}]);